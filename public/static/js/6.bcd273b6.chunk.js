(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{45:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(48);a.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},48:function(e,a,t){},57:function(e,a,t){"use strict";var n=t(10),r=t(0),i=t.n(r),l=t(42);t(58);a.a=function(e){var a=Object(r.useRef)(),t=Object(r.useState)(),s=Object(n.a)(t,2),c=s[0],u=s[1],o=Object(r.useState)(),p=Object(n.a)(o,2),m=p[0],d=p[1],v=Object(r.useState)(!1),f=Object(n.a)(v,2),b=f[0],O=f[1];Object(r.useEffect)((function(){if(c){var e=new FileReader;e.onload=function(){d(e.result)},e.readAsDataURL(c)}}),[c]);return i.a.createElement("div",{className:"form-control"},i.a.createElement("input",{id:e.id,ref:a,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(a){var t,n=b;a.target.files&&1===a.target.files.length?(t=a.target.files[0],u(t),O(!0),n=!0):(O(!1),n=!1),e.onInput(e.id,t,n)}}),i.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},i.a.createElement("div",{className:"image-upload__preview"},m?i.a.createElement("img",{src:m,alt:"Preview"}):i.a.createElement("p",null,"Please Pick an image.")),i.a.createElement(l.a,{type:"button",onClick:function(){a.current.click()}},"PICK IMAGE")),!b&&i.a.createElement("p",null,e.errorText))}},58:function(e,a,t){},69:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(55),r=t(43),i=t.n(r),l=t(44),s=t(10),c=t(0),u=t.n(c),o=t(11),p=t(45),m=t(42),d=t(56),v=t(46),f=t(15),b=t(57),O=t(53),g=t(54),j=t(47);t(69);a.default=function(){var e=Object(c.useContext)(o.a),a=Object(c.useState)(!0),t=Object(s.a)(a,2),r=t[0],E=t[1],h=Object(j.a)(),w=h.isLoading,k=h.error,x=h.sendReq,y=h.clearError,I=Object(g.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),P=Object(s.a)(I,3),N=P[0],S=P[1],T=P[2],C=function(){var a=Object(l.a)(i.a.mark((function a(t){var n,l,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),!r){a.next=13;break}return a.prev=2,a.next=5,x("https://places-store-project-peter.herokuapp.com/api/users/login","POST",JSON.stringify({email:N.inputs.email.value,password:N.inputs.password.value}),{"Content-Type":"application/json"});case 5:n=a.sent,e.login(n.userId,n.token),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(2);case 11:a.next=27;break;case 13:return(l=new FormData).append("email",N.inputs.email.value),l.append("name",N.inputs.name.value),l.append("password",N.inputs.password.value),l.append("image",N.inputs.image.value),a.prev=18,a.next=21,x("https://places-store-project-peter.herokuapp.com/api/users/signup","POST",l);case 21:s=a.sent,e.login(s.userId,s.token),a.next=27;break;case 25:a.prev=25,a.t1=a.catch(18);case 27:case"end":return a.stop()}}),a,null,[[2,9],[18,25]])})));return function(e){return a.apply(this,arguments)}}();return u.a.createElement(c.Fragment,null,u.a.createElement(v.a,{error:k,onClear:y}),u.a.createElement(p.a,{className:"authentication"},w&&u.a.createElement(f.a,{asOverlay:!0}),u.a.createElement("h2",null,r?"Login":"Sign Up"," Required"),u.a.createElement("hr",null),u.a.createElement("form",{onSubmit:C},!r&&u.a.createElement(d.a,{element:"input",id:"name",type:"text",label:"Your Name",validators:[Object(O.c)()],errorText:"Please enter a name",onInput:S}),!r&&u.a.createElement(b.a,{center:!0,id:"image",onInput:S,errorText:"Please provide an image"}),u.a.createElement(d.a,{element:"input",id:"email",type:"email",label:"Email",validators:[Object(O.a)()],errorText:"Please enter a valid email.",onInput:S}),u.a.createElement(d.a,{element:"input",id:"password",type:"password",label:"Password",validators:[Object(O.b)(6)],errorText:"Please enter a valid password at least 6 characters.",onInput:S}),u.a.createElement(m.a,{type:"submit",disabled:!N.isValid},r?"LOGIN":"SIGNUP")),u.a.createElement(m.a,{inverse:!0,onClick:function(){r?T(Object(n.a)(Object(n.a)({},N.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):T(Object(n.a)(Object(n.a)({},N.inputs),{},{name:void 0,image:void 0}),N.inputs.email.isValid&&N.inputs.password.isValid),E((function(e){return!e}))}},"SWITCH TO ",r?"SIGNUP":"LOGIN")))}}}]);
//# sourceMappingURL=6.bcd273b6.chunk.js.map