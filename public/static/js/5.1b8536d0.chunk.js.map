{"version":3,"sources":["shared/components/FormElements/Button/Button.js","shared/components/UIElmenets/Card/Card.js","shared/components/UIElmenets/ErrorModal/ErrorModal.js","shared/hooks/useHttp/useHttp.js","shared/components/UIElmenets/Modal/Modal.js","shared/components/UIElmenets/Map/Map.js","places/components/PlaceItem/PlaceItem.js","places/components/PlaceList/PlaceList.js","places/pages/UserPlaces/UserPlaces.js"],"names":["Button","props","href","className","size","inverse","danger","children","to","exact","type","onClick","disabled","Card","style","ErrorModal","onCancel","onClear","header","show","error","footer","useHttpClient","useState","isLoading","setIsLoading","setError","activeHttpReq","useRef","sendReq","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","resData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","ModalOverlay","content","headerClass","onSubmit","event","preventDefault","contentClass","footerClass","ReactDOM","createPortal","document","getElementById","Modal","Fragment","in","mountOnEnter","unmountOnExit","timeout","classNames","mapboxgl","accessToken","process","Map","mapContainerRef","map","container","center","coordinates","lng","lat","zoom","console","log","getCenter","addControl","NavigationControl","remove","ref","PlaceItem","auth","useContext","AuthContext","showMap","setShowMap","showConfirmModal","setShowConfirmModal","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","id","Authorization","token","onDelete","address","LoadingSpinner","asOverlay","src","image","alt","title","description","userId","creatorId","PlaceList","items","length","place","key","creator","location","onDeletePlace","UserPlaces","loadedPlaces","setLoadedPlaces","useParams","responseData","places","fetchPlaces","deletedPlaceId","prevPlaces"],"mappings":"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","file":"static/js/5.1b8536d0.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = (props) => {\n    if (props.href) {\n        return (\n            <a\n                className={`button button--${props.size || 'default'} ${\n                    props.inverse && 'button--inverse'\n                } ${props.danger && 'button--danger'}`}\n                href={props.href}\n            >\n                {props.children}\n            </a>\n        );\n    }\n    if (props.to) {\n        return (\n            <Link\n                to={props.to}\n                exact={props.exact}\n                className={`button button--${props.size || 'default'} ${\n                    props.inverse && 'button--inverse'\n                } ${props.danger && 'button--danger'}`}\n            >\n                {props.children}\n            </Link>\n        );\n    }\n    return (\n        <button\n            className={`button button--${props.size || 'default'} ${\n                props.inverse && 'button--inverse'\n            } ${props.danger && 'button--danger'}`}\n            type={props.type}\n            onClick={props.onClick}\n            disabled={props.disabled}\n        >\n            {props.children}\n        </button>\n    );\n};\n\nexport default Button;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = (props) => {\n    return (\n        <div className={`card ${props.className}`} style={props.style}>\n            {props.children}\n        </div>\n    );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport Modal from '../Modal/Modal';\nimport Button from '../../FormElements/Button/Button';\n\nconst ErrorModal = (props) => {\n    return (\n        <Modal\n            onCancel={props.onClear}\n            header='An Error Occurred!'\n            show={!!props.error}\n            footer={<Button onClick={props.onClear}>Okay</Button>}\n        >\n            <p>{props.error}</p>\n        </Modal>\n    );\n};\n\nexport default ErrorModal;\n","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    const activeHttpReq = useRef([]);\r\n\r\n    const sendReq = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setIsLoading(true);\r\n        const httpAbortCtrl = new AbortController();\r\n        activeHttpReq.current.push(httpAbortCtrl);\r\n\r\n        try {\r\n            const response = await fetch(url, {\r\n                method,\r\n                body,\r\n                headers,\r\n                signal: httpAbortCtrl.signal\r\n            });\r\n\r\n            const resData = await response.json();\r\n\r\n            activeHttpReq.current = activeHttpReq.current.filter(\r\n                (reqCtrl) => reqCtrl !== httpAbortCtrl\r\n            );\r\n\r\n            if (!response.ok) {\r\n                throw new Error(resData.message);\r\n            }\r\n\r\n            setIsLoading(false);\r\n            return resData;\r\n        } catch (err) {\r\n            setError(err.message);\r\n            setIsLoading(false);\r\n            throw err;\r\n        }\r\n    }, []);\r\n\r\n    const clearError = () => {\r\n        setError(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpReq.current.forEach((abortCtrl) => abortCtrl.abort());\r\n        };\r\n    }, []);\r\n\r\n    return { isLoading, error, sendReq, clearError };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nimport './Modal.css';\r\n\r\nconst ModalOverlay = (props) => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal__header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n            <form\r\n                onSubmit={\r\n                    props.onSubmit\r\n                        ? props.onSubmit\r\n                        : (event) => event.preventDefault()\r\n                }\r\n            >\r\n                <div className={`modal__content ${props.contentClass}`}>\r\n                    {props.children}\r\n                </div>\r\n                <footer className={`modal__footer ${props.footerClass}`}>\r\n                    {props.footer}\r\n                </footer>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    return ReactDOM.createPortal(\r\n        content,\r\n        document.getElementById('modal-hook')\r\n    );\r\n};\r\n\r\nconst Modal = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            {props.show && <Backdrop onClick={props.onCancel} />}\r\n            <CSSTransition\r\n                in={props.show}\r\n                mountOnEnter\r\n                unmountOnExit\r\n                timeout={200}\r\n                classNames=\"modal\"\r\n            >\r\n                <ModalOverlay {...props} />\r\n            </CSSTransition>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\n\r\nimport './Map.css';\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY;\r\n\r\nconst Map = (props) => {\r\n    const mapContainerRef = useRef(null);\r\n\r\n    // initialize map when component mounts\r\n    useEffect(() => {\r\n        const map = new mapboxgl.Map({\r\n            container: mapContainerRef.current,\r\n            // See style options here: https://docs.mapbox.com/api/maps/#styles\r\n            style: 'mapbox://styles/mapbox/streets-v11',\r\n            center: [props.coordinates.lng, props.coordinates.lat],\r\n            zoom: 12.5\r\n        });\r\n        console.log(map.getCenter());\r\n\r\n        // add navigation control (the +/- zoom buttons)\r\n        map.addControl(new mapboxgl.NavigationControl(), 'bottom-right');\r\n\r\n        // clean up on unmount\r\n        return () => map.remove();\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return <div className='map-container' ref={mapContainerRef} />;\r\n};\r\n\r\nexport default Map;\r\n\r\n//! Google Map Code\r\n// import React, { useRef, useEffect } from 'react';\r\n\r\n// import './Map.css';\r\n\r\n// const Map = (props) => {\r\n//     const mapRef = useRef();\r\n\r\n//     const { center, zoom } = props;\r\n\r\n//     useEffect(() => {\r\n//         const map = new window.google.maps.Map(mapRef.current, {\r\n//             center: center,\r\n//             zoom: zoom\r\n//         });\r\n\r\n//         new window.google.maps.Marker({ position: center, map: map });\r\n//     }, [center, zoom]);\r\n\r\n//     return (\r\n//         <div\r\n//             ref={mapRef}\r\n//             className={`map ${props.className}`}\r\n//             style={props.style}\r\n//         ></div>\r\n//     );\r\n// };\r\n\r\n// export default Map;\r\n","import React, { Fragment, useState, useContext } from 'react';\r\n\r\nimport Card from '../../../shared/components/UIElmenets/Card/Card';\r\nimport Button from '../../../shared/components/FormElements/Button/Button';\r\nimport Modal from '../../../shared/components/UIElmenets/Modal/Modal';\r\nimport Map from '../../../shared/components/UIElmenets/Map/Map';\r\nimport ErrorModal from '../../../shared/components/UIElmenets/ErrorModal/ErrorModal';\r\nimport LoadingSpinner from '../../../shared/components/UIElmenets/LoadingSpinner/LoadingSpinner';\r\n\r\nimport { AuthContext } from '../../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../../shared/hooks/useHttp/useHttp';\r\n\r\nimport './PlaceItem.css';\r\n\r\n\r\nconst PlaceItem = (props) => {\r\n    const auth = useContext(AuthContext);\r\n    const { isLoading, error, sendReq, clearError } = useHttpClient();\r\n    const [showMap, setShowMap] = useState(false);\r\n    const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n\r\n    const openMapHandler = () => setShowMap(true);\r\n\r\n    const closeMapHandler = () => setShowMap(false);\r\n\r\n    const showDeleteWarningHandler = () => {\r\n        setShowConfirmModal(true);\r\n    };\r\n\r\n    const cancelDeleteHandler = () => {\r\n        setShowConfirmModal(false);\r\n    };\r\n\r\n    const confirmDeleteHandler = async () => {\r\n        setShowConfirmModal(false);\r\n\r\n        try {\r\n            await sendReq(process.env.REACT_APP_BACKEND_URL + `/places/${props.id}`, 'DELETE', null, {\r\n                Authorization: 'Bearer ' + auth.token\r\n            });\r\n\r\n            props.onDelete(props.id);\r\n        } catch (err) {}\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            <Modal\r\n                show={showMap}\r\n                onCancel={closeMapHandler}\r\n                header={props.address}\r\n                contentClass='place-item__modal-content'\r\n                footerClass='place-item__modal-actions'\r\n                footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n            >\r\n                <div className='map-container'>\r\n                    <Map coordinates={props.coordinates} />\r\n                </div>\r\n            </Modal>\r\n\r\n            <Modal\r\n                show={showConfirmModal}\r\n                onCancel={cancelDeleteHandler}\r\n                header='Are you sure?'\r\n                footerClass='place-item__modal-actions'\r\n                footer={\r\n                    <Fragment>\r\n                        <Button inverse onClick={cancelDeleteHandler}>\r\n                            CANCEL\r\n                        </Button>\r\n                        <Button danger onClick={confirmDeleteHandler}>\r\n                            DELETE\r\n                        </Button>\r\n                    </Fragment>\r\n                }\r\n            >\r\n                <p>Are you sure you want to delete? You cannot be undone thereafter!</p>\r\n            </Modal>\r\n\r\n            <li className='place-item'>\r\n                <Card className='place-item__content'>\r\n                    {isLoading && <LoadingSpinner asOverlay />}\r\n                    <div className='place-item__image'>\r\n                        <img src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`} alt={props.title} />\r\n                    </div>\r\n                    <div className='place-item__info'>\r\n                        <h2>{props.title}</h2>\r\n                        <h3>{props.address}</h3>\r\n                        <p>{props.description}</p>\r\n                    </div>\r\n                    <div className='place-item__actions'>\r\n                        <Button inverse onClick={openMapHandler}>\r\n                            VIEW ON MAP\r\n                        </Button>\r\n                        {auth.userId === props.creatorId && <Button to={`/places/${props.id}`}>EDIT</Button>}\r\n                        {auth.userId === props.creatorId && (\r\n                            <Button danger onClick={showDeleteWarningHandler}>\r\n                                DELETE\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </Card>\r\n            </li>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from 'react';\r\n\r\nimport Card from '../../../shared/components/UIElmenets/Card/Card';\r\nimport PlaceItem from '../PlaceItem/PlaceItem';\r\nimport Button from '../../../shared/components/FormElements/Button/Button';\r\n\r\nimport './PlaceList.css';\r\n\r\nconst PlaceList = (props) => {\r\n    if (props.items.length === 0) {\r\n        return (\r\n            <div className='place-list center'>\r\n                <Card>\r\n                    <h2>No places found. Maybe Create one?</h2>\r\n                    <Button to='places/new'>Save Place</Button>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <ul className='place-list'>\r\n            {props.items.map((place) => (\r\n                <PlaceItem\r\n                    key={place.id}\r\n                    id={place.id}\r\n                    image={place.image}\r\n                    title={place.title}\r\n                    description={place.description}\r\n                    address={place.address}\r\n                    creatorId={place.creator}\r\n                    coordinates={place.location}\r\n                    onDelete={props.onDeletePlace}\r\n                />\r\n            ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport PlaceList from '../../components/PlaceList/PlaceList';\r\nimport ErrorModal from '../../../shared/components/UIElmenets/ErrorModal/ErrorModal';\r\nimport LoadingSpinner from '../../../shared/components/UIElmenets/LoadingSpinner/LoadingSpinner';\r\n\r\nimport { useHttpClient } from '../../../shared/hooks/useHttp/useHttp';\r\n\r\nconst UserPlaces = () => {\r\n    const [loadedPlaces, setLoadedPlaces] = useState();\r\n    const { isLoading, error, sendReq, clearError } = useHttpClient();\r\n\r\n    const userId = useParams().userId;\r\n\r\n    useEffect(() => {\r\n        const fetchPlaces = async () => {\r\n            try {\r\n                const responseData = await sendReq(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/places/user/${userId}`\r\n                );\r\n                setLoadedPlaces(responseData.places);\r\n            } catch (err) {}\r\n        };\r\n\r\n        fetchPlaces();\r\n    }, [sendReq, userId]);\r\n\r\n    const placeDeletedHandler = (deletedPlaceId) => {\r\n        setLoadedPlaces((prevPlaces) => prevPlaces.filter((place) => place.id !== deletedPlaceId));\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n            {isLoading && (\r\n                <div className='center'>\r\n                    <LoadingSpinner />\r\n                </div>\r\n            )}\r\n            {!isLoading && loadedPlaces && (\r\n                <PlaceList items={loadedPlaces} onDeletePlace={placeDeletedHandler} />\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default UserPlaces;\r\n\r\n// const DUMMY_PLACES = [\r\n//     {\r\n//         id: 'p1',\r\n//         title: 'Hong Kong Building',\r\n//         description: 'The tallest building in the history!',\r\n//         imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/IFC%2C_Hong_Kong_Island_%282796343561%29.jpg/452px-IFC%2C_Hong_Kong_Island_%282796343561%29.jpg',\r\n//         address: '8 Finance St, Central',\r\n//         location: {\r\n//             lat: 22.28588,\r\n//             lng: 114.158131\r\n//         },\r\n//         creator: 'u1'\r\n//     },\r\n//     {\r\n//         id: 'p2',\r\n//         title: 'Hong Kong Building IFC',\r\n//         description: 'The tallest building in the history!',\r\n//         imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/IFC%2C_Hong_Kong_Island_%282796343561%29.jpg/452px-IFC%2C_Hong_Kong_Island_%282796343561%29.jpg',\r\n//         address: '8 Finance St, Central',\r\n//         location: {\r\n//             lat: 22.28588,\r\n//             lng: 114.158131\r\n//         },\r\n//         creator: 'u2'\r\n//     }\r\n// ];\r\n"],"sourceRoot":""}